<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Proposal Sidebar UI Preview ‚Äì Combined</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Basic resets */
    html, body { margin: 0; padding: 0;height: 100%; }
    body { font-family: 'VT323';
    src: url('fonts/VT323-Regular.ttf') format('truetype'); padding: 0px; width: 360px; }
    #proposalDeck {height: 100%; width: 360px; display: flex; flex-wrap: wrap; gap: 10px; padding: 0px; }
    .proposalCard { width: 360px; height: 100%; border: 0px solid #ccc; border-radius: 5px; background-color: #2c2c2c; overflow: hidden; box-shadow: 2px 2px 6px rgba(0,0,0,0.1); margin-bottom: 10px; }

    /* Card pages ‚Äì only one page is visible at a time */
    .cardPage { display: none; padding: 10px; }
    .cardPage.active { display: flex; flex-direction: column; height: 100%; padding-top: 5px; }

    /* Drawer at bottom */
    .logo {display: block; justify-content: center; margin-bottom: -73px; }
    .drawer { border-top: 1px solid #616060; padding: 5px; display: flex; justify-content: space-around; margin-top: -11px; margin-bottom: -78px; background-color: #2c2c2c; }
    .drawer button { background: none; border: none; font-size: 20px; cursor: pointer; }

    /* Input group styling */
    .input-group { margin-bottom: 8px; }
    .input-group input, .input-group select { padding: 5px; box-sizing: border-box; width: 100%; background-color: #3a3a3a; color: #fff; }
    .flex-row { display: flex; gap: 5px; }
    .flex-row > * { flex: 1; }
    /* Top row: Proposal number and dates */
    .top-row input[type="text"] { max-width: 35px; background: #3a3a3a; color: #fff; }
    .top-row input[type="date"] { flex-shrink: 10%; background: #3a3a3a; color: #949494; }
    /* Cost row */
    .cost-row input { width: 32%; background: #3a3a3a; color: #fff; }

    /* Display Blocks (for proposal, personnel, sponsor) */
    .display-block {
      border: 1px solid #ccc;
      border-radius: 5px;
      padding-top: 2px; padding-bottom: 2px;
      background: #f9f9f9;
      margin-top: 0;
      position: relative;
    }
    .block-header, .block-footer { margin-top: -2px; margin-bottom: -2px; text-align: center; }
    .block-content { font-weight: bold; text-align: center; word-wrap: break-word; }
    .badge { background: #eee; border-radius: 3px; padding: 2px 4px; font-size: 9pt; margin: 0 2px; }
    .remove-block {
      display: none; position: absolute; top: -4px; right: -4px;
      background: #ff6666; border: none; border-radius: 50%;
      width: 10px; height: 10px; color: white; font-size: 8pt;
      line-height: 10px; text-align: center; cursor: pointer; padding: 0;
    }
    .display-block:hover .remove-block { display: block; }

    /* Personnel Container & Rows */
    #personnelContainer-0 { border: 1px dashed #3a3a3a; padding: 4px; margin-top: 8px; margin-bottom: 8px; }
    .personnel-row { display: flex; flex-direction: column; margin-bottom: 4px; padding-bottom: 5px; }
    .personnel-row .name-row, .personnel-row .role-row { display: flex; gap: 5px; }
    .personnel-row .name-row input { flex: 1; background: #3a3a3a; color: #949494; padding-bottom: 5px; }
    .personnel-row .role-row input, .personnel-row .role-row select { flex: 1; background: #3a3a3a; color: #949494; margin-top: 8px; }
    .add-plus { display: block; margin: 8px auto; font-size: 20px; cursor: pointer; border: none; background-color: #3a3a3a; color: #949494; }

    /* Department search results for personnel */
    .dept-results {
      background-color: #3a3a3a; border: 0px solid #ccc; transition: background-color 0.3s ease; color: #fff; max-height: 80px; overflow-y: auto; scrollbar-width: none;
      position: absolute; z-index: 10; width: calc(100% - 10px);
    }
    .dept-results div { padding: 4px; cursor: pointer; }
    .dept-results div:hover { background: #563b08; }
    .dept-wrapper { position: relative; }

    /*Sponsor search results*/
    #sponsorResults-0 {
    background-color: transparent; /* Remove background color from the parent */
  }

  button {
  background-color: rgb(58, 58, 58) ;
  color: rgb(148, 148, 148) !important;
  font-family: vt323 !important;
  justify-content: center;
  transition: background-color 0.3s ease;
  border: 2px outset rgb(0, 0, 0);
  border-radius: 30%;
 
}

button:hover {background-color:#494949

}

  #sponsorResults-0 > div {
    transition: background-color 0.3s ease; color: #fff; /* Add transition to the children */
  }

  #sponsorResults-0 > div:hover {
    background-color: rgb(86, 59, 8); /* Apply hover style to individual entries */
  }

    /* Budget Page Styles */
    #budgetPage { margin-top: 10px; }
    #periodButtons { margin-bottom: 10px; text-align: center; }
    #periodButtons button { margin: 0 5px; }
    .budget-section {
      border: 1px solid #ccc; border-radius: 5px; margin-bottom: 10px; padding: 5px; background-color: #2c2c2c; box-sizing: border-box;
    }
    .section-header { display: flex; justify-content: space-between; align-items: center; }
    .section-header h4 { margin: 0; }
    .section-header button { font-size: 16px; }
    .section-content { margin-top: 5px;  }
    .section-content > div {display:flex; flex-wrap: wrap;}
    .budget-section > div {display:flex; flex-wrap: wrap; box-sizing:border-box; }
    .section-total { text-align: right; font-weight: bold; margin-top: 5px; }
    .budget-row { display: flex; align-items: center; margin-bottom: 5px;  box-sizing: border-box; width: 300x; flex-wrap: wrap; }
    .budget-row input { margin-right: 5px; display: flex; flex-wrap: wrap;}
    .remove-budget-row { margin-left: auto; cursor: pointer; color: red; }
    .budget-row select { margin-right: 5px; color: #949494; }
    .page1-groups { display: flex; flex-direction: column; justify-content: space-between; width: 100%; height: 100%; box-sizing: border-box; flex-grow: 1;}
  </style>
</head>
<body>
  <div id="proposalDeck">
    <div class="proposalCard" data-index="0">
      <!-- PAGE 1: Data Collection -->
      <div class="cardPage active" id="card-0-page-1" style="padding:10px;">
        <div class="page1-groups">
          <!-- Proposal Section -->
          <div id="proposalInputs-0">
            <div class="flex-row top-row" style="margin-bottom: 8px;">
              <input type="text" id="proposalNumber-0" placeholder="###" maxlength="3">
              <input type="date" id="projectStart-0" placeholder="Start">
              <input type="date" id="projectEnd-0" placeholder="End">
            </div>
            <div class="input-group">
              <input type="text" id="proposalTitle-0" placeholder="Proposal Title" style="text-align:center;">
            </div>
            <div class="flex-row cost-row" style="margin-bottom: 12px;">
              <input type="number" id="totalDirect-0" placeholder="Direct">
              <input type="number" id="totalIndirect-0" placeholder="Indirect">
              <input type="number" id="totalCost-0" placeholder="Total">
            </div>
          </div>
          <!-- Proposal Block Display -->
          <div id="proposalBlockContainer-0"></div>
          
          <!-- Personnel Section (Unified: PI plus additional personnel) -->
          <div id="personnelContainer-0">
            <!-- Initial PI row -->
            <div class="personnel-row">
              <div class="name-row" style="width: 100%;">
                <input type="text" class="person-first" style="width: 50%;" placeholder="First">
                <input type="text" class="person-last" style="width: 50%;" placeholder="Last">
              </div>
              <div class="role-row">
                <!-- For the PI row, role is fixed -->
                <select class="person-role" disabled>
                  <option value="PI" selected>PI</option>
                </select>
                <div class="dept-wrapper" style="flex:1;">
                  <input type="text" class="person-dept" placeholder="Dept.">
                  <div class="dept-results" id="deptResults-pi"></div>
                </div>
              </div>
            </div>
            <!-- Additional personnel rows will be added here -->
            <div id="additionalPersonnelRows-0"></div>
            <button class="add-plus">Ôºã</button>
          </div>
          
          <!-- Sponsor Section -->
          <div class="input-group" id="sponsorSection-0">
            <input type="text" id="sponsorSearch-0" placeholder="Search Sponsor Code/Name/Banner ID">
          </div>
          <div id="sponsorResults-0"></div>
          <div id="sponsorSelected-0"></div>

          <div class="logo">
            <img src="/images/alt-Coffee.gif" alt="Logo" style="width: 200px; height: 100px; margin-top: -37px; margin-left: 78px;">
          </div>
          
          <div class="drawer">
            <button id="emailBtn-0" title="Email">üìß</button>
            <button id="attachmentsBtn-0" title="Attachments">üìé</button> 
            <button id="consoleBtn-0" title="Console">üñ•Ô∏è</button>
          </div>
          <!-- Budget Button: aligned to right -->
          <div style="text-align: right; margin-bottom: 12px; display:block;">
            <button id="budgetBtn" style="color: #949494; font-family: vt323; border-radius: 30%; display: inline-block; margin-bottom: 8px;">Budget</button>
          </div>
        </div>
      </div>
      
      <!-- PAGE 2: Budget Page -->
      <div class="cardPage" id="card-0-page-2" data-index="0">
        <div id="budgetPage">
          <!-- Period Buttons Row -->
          <div id="periodButtons"></div>
          <!-- Budget Sections -->
          <div id="budgetSections">
            <!-- Personnel Section -->
            <div class="budget-section" id="section-Personnel">
              <div class="section-header">
                <h4>Personnel</h4>
                <button id="addBudgetRow-Personnel">Ôºã</button>
              </div>
              <div class="section-content" id="content-Personnel"></div>
              <div class="section-total" id="total-Personnel"></div>
            </div>
            <!-- Equipment Section -->
            <div class="budget-section" id="section-Equipment">
              <div class="section-header">
                <h4>Equipment</h4>
                <button id="addBudgetRow-Equipment">Ôºã</button>
              </div>
              <div class="section-content" id="content-Equipment"></div>
              <div class="section-total" id="total-Equipment"></div>
            </div>
            <!-- Travel Section -->
            <div class="budget-section" id="section-Travel">
              <div class="section-header">
                <h4>Travel</h4>
                <button id="addBudgetRow-Travel">Ôºã</button>
              </div>
              <div class="section-content" id="content-Travel"></div>
              <div class="section-total" id="total-Travel"></div>
            </div>
            <!-- Participant Support Section -->
            <div class="budget-section" id="section-ParticipantSupport">
              <div class="section-header">
                <h4>Participant Support</h4>
                <button id="addBudgetRow-ParticipantSupport">Ôºã</button>
              </div>
              <div class="section-content" id="content-ParticipantSupport"></div>
              <div class="section-total" id="total-ParticipantSupport"></div>
            </div>
            <!-- Other Direct Section -->
            <div class="budget-section" id="section-OtherDirect">
              <div class="section-header">
                <h4>Other Direct</h4>
                <button id="addBudgetRow-OtherDirect">Ôºã</button>
              </div>
              <div class="section-content" id="content-OtherDirect"></div>
              <div class="section-total" id="total-OtherDirect"></div>
            </div>
          </div>
        </div>
        <!-- Back Button -->
        <button id="backBtn-0">Back</button>
      </div>
    </div>
  </div>
  
  <script src="sidebar.js"></script>
</body>
</html>
